{"version":3,"sources":["../../src/app/group-widgets/GroupSelect.tsx"],"names":["React","GroupsServiceClient","Divider","DualListSelector","GroupSelect","Component","constructor","props","data","subGroups","map","group","translated","id","text","name","checkProps","isChecked","children","toTreeListData","length","newAvailableOptions","newChosenOptions","availableOptions","chosenOptions","state","reloadTrigger","fetchData","groupsService","doGet","vo_id","then","resp","ok","setState","catch","err","console","log","render","onListChange"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ;AAEA,SAASC,mBAAT;AAEA,SACEC,OADF,EAGEC,gBAHF;AAmBA,OAAO,MAAMC,WAAN,SAA0BJ,KAAK,CAACK,SAAhC,CAAwD;AAU7DC,EAAAA,WAAW,CAACC,KAAD,EAAe;AACtB,UAAMA,KAAN;;AADsB,2CARV,IAAIN,mBAAJ,EAQU;;AAAA,8CAJA,EAIA;;AAAA,2CAHF,EAGE;;AAAA,4CAiCRO,IAAD,IAAgD;AAC/D,aAAOA,IAAI,CAACC,SAAL,CAAeC,GAAf,CAAmBC,KAAK,IAAI;AACjC,YAAIC,UAAU,GAAG;AACfC,UAAAA,EAAE,EAAEF,KAAK,CAACE,EADK;AAEfC,UAAAA,IAAI,EAAEH,KAAK,CAACI,IAFG;AAGfC,UAAAA,UAAU,EAAE;AAAE,0BAAcL,KAAK,CAACI;AAAtB,WAHG;AAIfE,UAAAA,SAAS,EAAE;AAJI,SAAjB;AAMA,YAAIC,QAAQ,GAAG,KAAKC,cAAL,CAAoBR,KAApB,CAAf;AACA,YAAGO,QAAQ,CAACE,MAAT,IAAmB,CAAtB,EACER,UAAU,CAAC,UAAD,CAAV,GAAyBM,QAAzB;AACF,eAAON,UAAP;AACD,OAXM,CAAP;AAYD,KA9CyB;;AAAA,0CAiDX,CAACS,mBAAD,EAAsDC,gBAAtD,KAA2G;AACxH,WAAKC,gBAAL,GAAwBF,mBAAxB;AACA,WAAKG,aAAL,GAAqBF,gBAArB;AACD,KApDyB;;AAGtB,SAAKC,gBAAL,GAAwB,CACtB;AAACV,MAAAA,EAAE,EAAE,GAAL;AAAUC,MAAAA,IAAI,EAAE,UAAhB;AAA4BG,MAAAA,SAAS,EAAE;AAAvC,KADsB,EAEtB;AAACJ,MAAAA,EAAE,EAAE,GAAL;AAAUC,MAAAA,IAAI,EAAE,UAAhB;AAA4BG,MAAAA,SAAS,EAAE;AAAvC,KAFsB,CAAxB;AAKA,SAAKQ,KAAL,GAAa;AACXC,MAAAA,aAAa,EAAE;AADJ,KAAb;AAGA,SAAKC,SAAL;AACH;;AAGOA,EAAAA,SAAS,GAAE;AACjB,SAAKC,aAAL,CAAoBC,KAApB,CAA0B,qBAAqB,KAAKtB,KAAL,CAAWuB,KAAhC,GAAwC,SAAlE,EACGC,IADH,CACSC,IAAD,IAAe;AACnB,UAAGA,IAAI,CAACC,EAAR,EAAW;AAGT;AAEA,aAAKC,QAAL,CAAc;AACZR,UAAAA,aAAa,EAAE,CAAC,KAAKD,KAAL,CAAWC;AADf,SAAd;AAGD;AAEF,KAZH,EAYKS,KAZL,CAYYC,GAAD,IAAc;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAdH;AAeD;;AAuBMG,EAAAA,MAAM,GAAoB;AAE/B,wBACE,uDACE,iFADF,eAEE,+BAFF,eAGE,oBAAC,OAAD,OAHF,eAKE,oBAAC,gBAAD;AACE,MAAA,YAAY,MADd;AAEE,MAAA,MAAM,MAFR;AAGE,MAAA,gBAAgB,EAAE,KAAKhB,gBAHzB;AAIE,MAAA,aAAa,EAAE,KAAKC,aAJtB;AAKE,MAAA,YAAY,EAAE,KAAKgB,YALrB;AAME,MAAA,EAAE,EAAC;AANL,MALF,eAaE,iCAAM,KAAKf,KAAL,CAAWC,aAAjB,CAbF,CADF;AAiBD;;AAnF4D","sourcesContent":["import * as React from 'react';\n\nimport { GroupsServiceClient } from '../groups-mngnt-service/groups.service';\n\nimport {\n  Divider,\n  Label,\n  DualListSelector,\n  DualListSelectorTreeItemData\n} from '@patternfly/react-core';\n\n\ninterface State {\n  reloadTrigger: boolean\n}\n\ninterface Props {\n  vo_id: any\n  getGroupSelection: any\n}\n\n\n\nexport class GroupSelect extends React.Component<Props, State> {\n\n  groupsService = new GroupsServiceClient();\n\n\n\n  availableOptions: any[] = [];\n  chosenOptions : any[] = [];\n\n\n  constructor(props : Props){\n      super(props);\n\n      this.availableOptions = [\n        {id: \"1\", text: \"Option 1\", isChecked: false},\n        {id: \"2\", text: \"Option 2\", isChecked: false}\n      ];\n\n      this.state = {\n        reloadTrigger: false\n      }\n      this.fetchData();\n  }\n\n\n  private fetchData(){\n    this.groupsService!.doGet(\"/groups/user/vo/\" + this.props.vo_id + \"/groups\")\n      .then((resp: any) => {\n        if(resp.ok){\n\n\n          //this.availableOptions = this.toTreeListData(resp.data);\n\n          this.setState({\n            reloadTrigger: !this.state.reloadTrigger\n          });\n        }\n\n      }).catch((err: any) => {\n        console.log(err);\n      });\n  }\n\n  toTreeListData = (data: any) : DualListSelectorTreeItemData[] => {\n    return data.subGroups.map(group => {\n      let translated = {\n        id: group.id,\n        text: group.name,\n        checkProps: { 'aria-label': group.name },\n        isChecked: false\n      }\n      let children = this.toTreeListData(group);\n      if(children.length != 0)\n        translated['children'] = children;\n      return translated;\n    });\n  }\n\n\n  onListChange = (newAvailableOptions: DualListSelectorTreeItemData[], newChosenOptions: DualListSelectorTreeItemData[]) => {\n    this.availableOptions = newAvailableOptions;\n    this.chosenOptions = newChosenOptions;\n  };\n\n  public render(): React.ReactNode {\n\n    return (\n      <>\n        <p>Please select the groups you would like to join</p>\n        <br/>\n        <Divider />\n\n        <DualListSelector\n          isSearchable\n          isTree\n          availableOptions={this.availableOptions}\n          chosenOptions={this.chosenOptions}\n          onListChange={this.onListChange}\n          id=\"dual-list-selector-tree\"\n        />\n        <div>{this.state.reloadTrigger}</div>\n      </>\n    );\n  }\n\n\n}\n"],"file":"GroupSelect.js"}